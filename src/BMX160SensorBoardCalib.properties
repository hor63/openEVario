# BMX160SensorBoardCalib.properties
#
# Content: Preset values for the BMX160 sensor board
#
# Created on: May 01, 2020
#     Author: hor
#
#  This file is part of openEVario, an electronic variometer for glider planes
#  Copyright (C) 2020  Kai Horstmann
#
#  This program is free software; you can redistribute it and/or modify
#  it under the terms of the GNU General Public License as published by
#  the Free Software Foundation; either version 2 of the License, or
#  any later version.
#
#  This program is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#  GNU General Public License for more details.
#
#  You should have received a copy of the GNU General Public License along
#  with this program; if not, write to the Free Software Foundation, Inc.,
#  51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
#

# Please note! These data here are an example and are for testing.
# They were measured for my first sensor board prototype, and are only valid for this one BMX160 device which was soldered on that board.

# For any other device it is better to set bias values to 0, and let the filter determine them unless you perform the measurements
# described below for your particular device.
# Automatic determination of the biases may take some time, and serious thermalling to get the values accurate.
# Magnetometer bias determination requires GPS for absolute course over ground.
# Please note that in reality the magnetometer bias
# is really the actual sensor bias superimposed with the magnetic deviation at the place where the device is mounted.
# For practical purposes the distinction is moot anyway.

# Calibration data for the BMX160 sensor box
# Except for the accelerometer these are bias and standard deviation values only.

# Magnetometer bias can be measured for the magnetometer 
# measuring the magnetic field in an arbitrary direction as val1,
# turn the box 180 degrees that the measured axis points opposite and measure again as val2.
# The bias is now = (val1 + val2) / 2
magXBias = -16.6723405
magYBias = -16.3483015
magZBias = 3.722431

# Standard deviation of the magnetometer measurements
magXSigma = 0.556373
magYSigma = 0.517639
magZSigma = 0.601846

# Gyro bias is the easiest: Let the box rest and measure the gyro values. These are the bias.
gyrXBias = -0.157471
gyrYBias = -0.088079
gyrZBias = 0.153319

# Standard deviation of the gyro measurements
gyrXSigma = 0.019258
gyrYSigma = 0.016413
gyrZSigma = 0.013934

# Accel bias is measured mostly the same as magnetometer bias.
# However the measured axis should point straight up for val1,
# and straight down for val2. The formula is the same.
accelXBias = -0.0327955
accelYBias = 0.022569
accelZBias = 0.0001615

# For the accelerometer factor you can get the same measurements val1 and val2 at the same time
# when measuring the bias.
# I actually have a calibrated value for the Accelerometer, i.e. the gravity.
# Val1 is the positive gravitation, and val 2 is negative gravity.
# The formula is: 2 / (val1 - val2)
# Please note that the expected value should always be 1.0g
accelXFactor = 1.002268635
accelYFactor = 0.998756548
accelZFactor = 0.996342923

# Standard deviation of the accelerometer measurements
accelXSigma = 0.000928
accelYSigma = 0.000746
accelZSigma = 0.000992

